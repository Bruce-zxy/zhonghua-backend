<!DOCTYPE html>
<html>

<head>
    <title>pjax</title>
    <meta charset="utf-8">
    <!-- STEP 1: 引入animsition.min.css以及animsition.min.js -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/animsition/4.0.2/css/animsition.min.css">
    <link rel="stylesheet" type="text/css" href="./common.css">
    <script src="http://apps.bdimg.com/libs/jquery/1.8.3/jquery.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/barba.js/1.0.0/barba.min.js" type="text/javascript"></script> -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/animsition/4.0.2/js/animsition.min.js"></script>
</head>

<body>
    <!-- <div id="barba-wrapper" style="back"> -->
        <div class="animsition" style="background-image: linear-gradient(to top, #fad0c4 0%, #ffd1ff 100%);">
            <br/>
            <!-- STEP 2: 配置a标签 -->
            <a href="demo_jump.html" class="animsition-link" data-animsition-out-class="fade-out-right" data-animsition-out-duration="2000">Jump to demo_jump.html</a>
        </div>
    <!-- </div> -->
</body>

<script type="text/javascript">

	// STEP 3: 调用animsition方法
    $(".animsition").animsition({
        inClass: 'fade-in',
        outClass: 'fade-out',
        inDuration: 1500,
        outDuration: 800,
        linkElement: '.animsition-link',
        // e.g. linkElement: 'a:not([target="_blank"]):not([href^="#"])'
        loading: true,
        loadingParentElement: 'body', //animsition wrapper element
        loadingClass: 'animsition-loading',
        loadingInner: '', // e.g '<img src="loading.svg" />'
        timeout: false,
        timeoutCountdown: 5000,
        onLoadEvent: true,
        browser: ['animation-duration', '-webkit-animation-duration'],
        // "browser" option allows you to disable the "animsition" in case the css property in the array is not supported by your browser.
        // The default setting is to disable the "animsition" in a browser that does not support "animation-duration".
        overlay: false,
        overlayClass: 'animsition-overlay-slide',
        overlayParentElement: 'body',
        transition: function(url) {
            window.location.href = url;
        }
    });


    $('.animsition').on('animsition.inStart', function(a, b){
        console.log(a);
        console.log(b);
    })

    setTimeout(function() {
        console.log($('.animsition-link')[0]);
        $('.animsition-link')[0].click();
    }, 3000);

// Barba.Pjax.start();
</script>

</html>
